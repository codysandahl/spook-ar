<!doctype HTML>
<html>
    <head>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <title>SpookAR - Scan the Barcodes for a SPOOKY experience!</title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="scripts/marker-video-controls.js"></script>
    
    <body style='margin : 0px; overflow: hidden;' id="spook-ar-play">
        <!-- UI buttons -->
        <div class="play-buttons">
            <a href="index.html"><button id="exit-button">Exit</button></a>
        </div>

        <!-- we add detectionMode and matrixCodeType to tell AR.js to recognize barcode markers -->
        <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 4x4_BCH_13_5_5;'>
            <!-- load all the assets -->
            <a-assets>
                <video id="dilophosaurus" crossOrigin="anonymous" type="video/mp4" autoplay loop="true" src="assets/dilophosaurus.mp4" playsinline webkit-playsinline controls></video>
                <video id="trex" crossOrigin="anonymous" type="video/mp4" autoplay loop="true" src="assets/trex.mp4" playsinline webkit-playsinline controls></video>
                <video id="mosasaurus" crossOrigin="anonymous" type="video/mp4" autoplay loop="true" src="assets/mosasaurus.mp4" playsinline webkit-playsinline controls></video>
            </a-assets>

            <!-- dilophosaurus = #7 -->
            <a-marker type='barcode' value='7' marker-video-controls="video: #dilophosaurus" emitevents="true" cursor="rayOrigin: mouse">
                <a-video src="#dilophosaurus" width="4" height="2.25" position="0 0.5 0" rotation="-90 0 0"></a-video>
            </a-marker>

            <!-- t-rex = #6 -->
            <a-marker type='barcode' value='6' marker-video-controls="video: #trex" emitevents="true" cursor="rayOrigin: mouse">
                <a-video src="#trex" width="4" height="2.25" position="0 0.5 0" rotation="-90 0 0"></a-video>
            </a-marker>

            <!-- mosasaurus = #8 -->
            <a-marker type='barcode' value='8' marker-video-controls="video: #mosasaurus" emitevents="true" cursor="rayOrigin: mouse">
                <a-video src="#mosasaurus" width="4" height="2.25" position="0 0.5 0" rotation="-90 0 0"></a-video>
            </a-marker>

            <!-- use this <a-entity camera> to support multiple-markers, otherwise use <a-marker-camera> instead of </a-marker> -->
            <a-entity camera></a-entity>
        </a-scene>
    </body>
</html>